
//-------------------------------------------------------------------------------------------------
@PART[KWsrbGlobeX10L]:Final
{
    @cost = 25000
}
@PART[KWsrbGlobeX10S]:Final
{    
    @title = Hydra Solid Booster
    @mass = 0.001 // set by MFT
    @maxTemp = 2400
    @MODULE[ModuleEnginesFX]
    {
        @minThrust = 1
        @maxThrust = 1650 // atmo
        @heatProduction = 300
        @useEngineResponseTime = False
        runningEffectName = running_closed
        @PROPELLANT[SolidFuel]
        {
            @name = HTPB
        }
        @atmosphereCurve
        {
            @key,0 = 0 180
            @key,1 = 1 160
        }
        //@throttleLocked = False // for testing throttle
    }
    @MODULE[ModuleGimbal]
    {
        @gimbalRange = 1.5
    }
    !RESOURCE[SolidFuel] {}
    MODULE
    {
        name = ModuleFuelTanks
        type = Odyssey_Solid
        volume = 23000    // @5m diam size, 32.5m long long @ ~85.4%
    }
    !MODULE[FlagDecal] {}
    !MODULE[TweakScale] {}
    MODULE
    {
        name = TweakScale
        type = Scale_Stack
        defaultScale = 2.5
    }
    !MODULE[ModuleEngineThrustController] {}
    MODULE
    {
        name = ModuleEngineThrustController
        minimumThrustPercent = 0.01
        canAdjustAtAnytime = false
        showItemInList = false
    }
    !MODULE[ModuleSRBThrust] {}
    MODULE
    {
        name = ModuleSRBThrust
        resourceName = HTPB
        useTimeCurve = false
        thrustCurve
        {
            key = 0.00 0.01
            key = 0.01 0.01
            key = 0.02 0.35 0 0
            key = 0.45 0.60 0 0
            key = 0.60 1.00 0 0
            key = 0.95 1.00 0 0
            key = 1.00 0.80        
        }
    }
    //!MODULE[ModuleEngineThrustController] {} // remove these when testing throttle
    //!MODULE[ModuleSRBThrust] {} 
    !EFFECTS {} // remove KW effects
    !EFFECTS {} // remove HotRockets effects
    EFFECTS
    {
        running_closed
        {
            AUDIO
            {
                channel = Ship
                clip = KWRocketry/Soundbank/sound_srbloop
                volume = 0.0 0.0
                volume = 1.0 1.0
                pitch = 0.0 0.2
                pitch = 1.0 1.0
                loop = true
            }
            PREFAB_PARTICLE
            {
                prefabName = fx_smokeTrail_veryLarge
                transformName = FX3Transform
                emission = 0.00 0.00
                emission = 0.05 0.33
                emission = 1.00 1.25
                speed = 0.0 0.2
                speed = 1.0 1.0
            }
            MODEL_MULTI_PARTICLE_PERSIST
            {
                modelName = Squad/FX/SRB_Large
                transformName = FX2Transform

                emission = 0.00 0.00
                emission = 0.05 0.37
                emission = 0.13 0.70
                emission = 1.00 1.30
                
                speed = 0.0 0.5
                speed = 1.0 0.6
                
                energy = 0 0.9
                energy = 1 1.2

                offset = 0 -0.9
                offset = 1 -0.8
                
                grow = 0 -0.7
                grow = 1 -0.5
                
                size = 0 0.7
                size = 1 0.6
            }
            MODEL_PARTICLE
            {
                modelName = Squad/FX/SRB_LargeSparks
                transformName = FXTransform
                emission = 0.00 0.00
                emission = 0.10 0.66
                emission = 1.00 1.35
                speed = 0.0 0.5
                speed = 1.0 1.0
                localOffset = 0, 0, 1.5
            }
        }
        engage
        {
            AUDIO
            {
                channel = Ship
                clip = KWRocketry/Soundbank/sound_srb3
                volume = 1.0
                pitch = 1.0
                loop = false
            }
        }
        flameout
        {
            PREFAB_PARTICLE
            {
                prefabName = fx_exhaustSparks_flameout_2
                transformName = NozzleTransform
                oneShot = true
            }
            AUDIO
            {
                channel = Ship
                clip = sound_explosion_low
                volume = 1.0
                pitch = 2.0
                loop = false
            }
        }
    }
}

//-------------------------------------------------------------------------------------------------
@PART[KWsrbGlobeVI]:Final
{
    @title = Odyssey Atlas Booster
    @mass = 0.001 // set by MFT
    @maxTemp = 2400
    @cost = 1780
    @MODULE[ModuleEnginesFX]
    {
        @minThrust = 1
        @maxThrust = 300 // atmo
        @heatProduction = 320
        @useEngineResponseTime = False
        @PROPELLANT[SolidFuel]
        {
            @name = HTPB
        }
        @atmosphereCurve
        {
            @key,0 = 0 180
            @key,1 = 1 160
        }
        //@throttleLocked = False // for testing throttle
    }
    !RESOURCE[SolidFuel] {}
    MODULE
    {
        name = ModuleFuelTanks
        type = Odyssey_Solid
        volume = 4000                 // 7.75m by 0.875m @ ~86%
    }
    !MODULE[TweakScale] {}
    MODULE
    {
        name = TweakScale
        type = Scale_Surface
        defaultScale = 0.75
    }
    !MODULE[ModuleEngineThrustController] {}
    MODULE
    {
        name = ModuleEngineThrustController
        minimumThrustPercent = 0.01
        canAdjustAtAnytime = false
        showItemInList = false
    }
    !MODULE[ModuleSRBThrust] {}
    MODULE
    {
        name = ModuleSRBThrust
        resourceName = HTPB
        useTimeCurve = false
        thrustCurve
        {
            key = 0.00 0.01
            key = 0.01 0.01
            key = 0.02 0.20
            key = 0.30 0.50
            key = 0.95 1.00
            key = 1.00 0.90
        }
    }
    //!MODULE[ModuleEngineThrustController] {} // remove these when testing throttle
    //!MODULE[ModuleSRBThrust] {} 
    !EFFECTS {} // remove KW effects
    !EFFECTS {} // remove HotRockets effects
    EFFECTS
    {
        running_closed
        {
            AUDIO
            {
                channel = Ship
                clip = KWRocketry/Soundbank/sound_srbloop
                volume = 0.0 0.0
                volume = 1.0 1.0
                pitch = 0.0 0.2
                pitch = 1.0 1.0
                loop = true
            }
            PREFAB_PARTICLE
            {
                prefabName = fx_smokeTrail_veryLarge
                transformName = FX3Transform
                emission = 0.00 0.00
                emission = 0.05 0.33
                emission = 1.00 1.25
                speed = 0.0 0.2
                speed = 1.0 1.0
                //localOffset = 0, 0, 1.5
            }
            MODEL_MULTI_PARTICLE_PERSIST
            {
                modelName = Squad/FX/SRB_Large
                transformName = FXTransform

                emission = 0.00 0.00
                emission = 0.05 0.37
                emission = 0.13 0.56
                emission = 1.00 0.80
                
                speed = 0.0 0.7
                speed = 1.0 0.8
                
                energy = 0 0.8
                energy = 1 0.9

                offset = 0 -0.9
                offset = 1 -0.8
                
                grow = 0 -0.6
                grow = 1 -0.3
                
                size = 0 0.5
                size = 1 0.4
            }
            MODEL_PARTICLE
            {
                modelName = Squad/FX/SRB_LargeSparks
                transformName = FXTransform
                emission = 0.00 0.00
                emission = 0.10 0.66
                emission = 1.00 1.35
                speed = 0.0 0.5
                speed = 1.0 1.0
                localOffset = 0, 0, 1.5
            }
        }
        engage
        {
            AUDIO
            {
                channel = Ship
                clip = KWRocketry/Soundbank/sound_srb3
                volume = 1.0
                pitch = 1.0
                loop = false
            }
        }
        flameout
        {
            PREFAB_PARTICLE
            {
                prefabName = fx_exhaustSparks_flameout_2
                transformName = NozzleTransform
                oneShot = true
            }
            AUDIO
            {
                channel = Ship
                clip = sound_explosion_low
                volume = 1.0
                pitch = 2.0
                loop = false
            }
        }
    }
}

//-------------------------------------------------------------------------------------------------
@PART[KXsepmotor]:Final
{
    @title = Odyssey Separation Thruster
    @mass = 0.013 // set by MFT
    @maxTemp = 2400
    @MODULE[ModuleEngines]
    {
        @name = ModuleEnginesFX
        @maxThrust = 10 // atmo
        @heatProduction = 230
        runningEffectName = running_closed
        @PROPELLANT[SolidFuel]
        {
            @name = HTPB
        }
        @atmosphereCurve
        {
            @key,0 = 0 285
            @key,1 = 1 276
        }
    }
    !RESOURCE[SolidFuel] {}
    MODULE
    {
        name = ModuleFuelTanks
        type = Odyssey_Solid
        volume = 6
    }
    MODULE
    {
        name = TweakScale
        type = Scale_Surface
    }
    !MODULE[ModuleEngineThrustController] {}
    MODULE
    {
        name = ModuleEngineThrustController
        minimumThrustPercent = 0.01
        canAdjustAtAnytime = false
        showItemInList = false
    }
    !MODULE[ModuleSRBThrust] {}
    MODULE
    {
        name = ModuleSRBThrust
        resourceName = HTPB
        useTimeCurve = false
        thrustCurve
        {
            key = 0.00 0.05
            key = 0.05 0.36
            key = 0.78 0.97
            key = 0.90 0.89
            key = 1.00 0.05
        }
    }

    !fx_exhaustFlame_yellow_tiny = DELETE
    !sound_vent_medium = DELETE
    !sound_rocket_mini = DELETE
    !sound_vent_soft = DELETE

    EFFECTS
    {
        running_closed
        {
            AUDIO
            {
                channel = Ship
                clip = KWRocketry/Soundbank/sound_srbloop
                volume = 0.0 0.0
                volume = 0.4 0.4
                pitch = 0.0 0.2
                pitch = 1.0 1.0
                loop = true
            }
            MODEL_MULTI_PARTICLE_PERSIST
            {
                name = Smoke
                modelName = MP_Nazari/FX/smokebooster
                transformName = thrustTransform

                // number of particles per second
                emission = 0.00 0.00
                emission = 0.05 0.08
                emission = 1.00 0.30

                // life of particles in seconds
                energy = 0.0 0.20
                energy = 1.0 0.30

                // particle speed
                speed = 0.0 0.30
                speed = 1.0 0.40
            }
            MODEL_MULTI_PARTICLE_PERSIST
            {
                name = Flame
                modelName = MP_Nazari/FX/flamebooster
                transformName = thrustTransform

                // number of particles per second
                emission = 0.00 0.00
                emission = 0.05 0.12
                emission = 1.00 0.50

                // life of particles in seconds
                energy = 0.0 0.50
                energy = 1.0 0.90

                // particle speed
                speed = 0.0 0.40
                speed = 1.0 0.50

                // grow % per second
                grow = 0 -0.20
                grow = 1 -0.50
            }
        }
        engage
        {
            AUDIO
            {
                channel = Ship
                clip = AerojetKerbodyne/Sounds/upperstart
                volume = 0.35
                pitch = 1.00
                loop = false
            }
        }
        flameout
        {
            PREFAB_PARTICLE
            {
                prefabName = fx_exhaustSparks_flameout_2
                transformName = thrustTransform
                oneShot = true
            }
            AUDIO
            {
                channel = Ship
                clip = sound_explosion_low
                volume = 1.0
                pitch = 2.0
                loop = false
            }
        }
    }
}
+PART[KXsepmotor]:Final
{
    @name = Fel_delayedRetro    
    @title = Odyssey Delayed Retro
    @description = This retro SRB has a delayed fuse.
    !MODULE[ModuleSRBThrust] {}
    MODULE
    {
        name = ModuleSRBThrust
        resourceName = HTPB
        useTimeCurve = false
        thrustCurve
        {
            key = 0.00 0.01
            key = 0.05 1.00 0 0
            key = 0.93 1.00 0 0
            key = 0.98 0.10 0 0
            key = 1.00 0.10
        }
    }
}

//-------------------------------------------------------------------------------------------------
@PART[KWsrbGlobeX5]:Final
{
    @title = Odyssey Ariane Solid Booster
    @mass = 0.001 // really ~83
    @maxTemp = 2400
    @MODULE[ModuleEnginesFX]
    {
        @minThrust = 1
        @maxThrust = 1600 // atmo
        @heatProduction = 310
        @useEngineResponseTime = False
        runningEffectName = running_closed
        @PROPELLANT[SolidFuel]
        {
            @name = HTPB
        }
        @atmosphereCurve
        {
            @key,0 = 0 180
            @key,1 = 1 160
        }
        //@throttleLocked = False // for testing throttle
    }
    !RESOURCE[SolidFuel] {}
    MODULE
    {
        name = ModuleFuelTanks
        type = Odyssey_Solid
        volume = 37000                 // 14m by ~2m @ ~84.5%
    }
    !MODULE[TweakScale] {}
    MODULE
    {
        name = TweakScale
        type = Scale_Surface
        defaultScale = 1.5
    }
    !MODULE[ModuleEngineThrustController] {}
    MODULE
    {
        name = ModuleEngineThrustController
        minimumThrustPercent = 0.01
        canAdjustAtAnytime = false
        showItemInList = false
    }
    !MODULE[ModuleSRBThrust] {}
    MODULE
    {
        name = ModuleSRBThrust
        resourceName = HTPB
        useTimeCurve = false
        thrustCurve
        {
            key = 0.00 0.01
            key = 0.01 0.01
            key = 0.02 0.20
            key = 0.30 0.50
            key = 0.95 1.00
            key = 1.00 0.90

            //key = 0.00 0.01
            //key = 0.01 0.01
            //key = 0.02 0.50 7.91 7.91
            //key = 0.30 0.50 2.05 2.05
            //key = 0.95 1.00 -0.06 -0.06
            //key = 1.00 0.90            
        }
    }
    //!MODULE[ModuleEngineThrustController] {} // remove these when testing throttle
    //!MODULE[ModuleSRBThrust] {} 
    !EFFECTS {} // remove KW effects
    !EFFECTS {} // remove HotRockets effects
    EFFECTS
    {
        running_closed
        {
            AUDIO
            {
                channel = Ship
                clip = KWRocketry/Soundbank/sound_srbloop
                volume = 0.0 0.0
                volume = 1.0 1.0
                pitch = 0.0 0.2
                pitch = 1.0 1.0
                loop = true
            }
            PREFAB_PARTICLE
            {
                prefabName = fx_smokeTrail_veryLarge
                transformName = FX3Transform
                emission = 0.00 0.00
                emission = 0.05 0.33
                emission = 1.00 1.25
                speed = 0.0 0.2
                speed = 1.0 1.0
                //localOffset = 0, 0, 1.5
            }
            MODEL_MULTI_PARTICLE_PERSIST
            {
                modelName = Squad/FX/SRB_Large
                transformName = FX2Transform

                emission = 0.00 0.00
                emission = 0.05 0.37
                emission = 0.13 0.56
                emission = 1.00 0.80
                
                speed = 0.0 0.7
                speed = 1.0 0.8
                
                energy = 0 0.8
                energy = 1 0.9

                offset = 0 -0.9
                offset = 1 -0.8
                
                grow = 0 -0.6
                grow = 1 -0.3
                
                size = 0 0.5
                size = 1 0.4
            }
            MODEL_PARTICLE
            {
                modelName = Squad/FX/SRB_LargeSparks
                transformName = FXTransform
                emission = 0.00 0.00
                emission = 0.10 0.66
                emission = 1.00 1.35
                speed = 0.0 0.5
                speed = 1.0 1.0
                localOffset = 0, 0, 1.5
            }
        }
        engage
        {
            AUDIO
            {
                channel = Ship
                clip = KWRocketry/Soundbank/sound_srb3
                volume = 1.0
                pitch = 1.0
                loop = false
            }
        }
        flameout
        {
            PREFAB_PARTICLE
            {
                prefabName = fx_exhaustSparks_flameout_2
                transformName = NozzleTransform
                oneShot = true
            }
            AUDIO
            {
                channel = Ship
                clip = sound_explosion_low
                volume = 1.0
                pitch = 2.0
                loop = false
            }
        }
    }
}
